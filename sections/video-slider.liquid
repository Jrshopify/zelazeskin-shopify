{{ 'owl.carousel.min.css' | asset_url | stylesheet_tag }}
{{ 'owl.theme.default.min.css' | asset_url | stylesheet_tag }}
<script defer src="{{ 'owl.carousel.js' | asset_url }}"></script>
<script defer src="{{ 'custom.js' | asset_url }}"></script>
<div class="container">
  <div class="head-sub text-center">
    {% if section.settings.head != blank %}
      <h2>{{ section.settings.head }}</h2>
    {% endif %}
    {% if section.settings.description != blank %}
      <h6>{{ section.settings.description }}</h6>
    {% endif %}
  </div>
  <div class="owl-carousel owl-theme" id="videoSlide">
    {% assign count = 1 %}
      {% for block in section.blocks %}
        <div class="item">
          {% if block.settings.video_url != blank %}
            <div class="video-wrap">
              {% comment %} <video id="playpause{{ count }}" class="video" width="100%" height="440" data-play_btn_id="play_btn_id{{ count }}" poster="{{ block.settings.poster_img | img_url: 'master' }}">
                <source src="{{ block.settings.video_url }}" type="video/mp4">
              </video>{% endcomment %}
              <img src="{{ block.settings.poster_img | img_url: 'master' }}" id="playpause{{ count }}">
              <div data-vidid="playpause{{ count }}" class="playbtn" id="play_btn_id{{ count }}"><img src="https://cdn.shopify.com/s/files/1/0577/1332/8304/files/play.png?v=1686831446" title="Play" alt="Play"></div>
            </div>
            <div class="popup-container">
              <video id="video-player{{ count }}" data-play_btn_id="play_btn_id{{ count }}"" controls>
                <source src="{{ block.settings.video_url }}" type="video/mp4">
              </video>
            </div>
          {% endif %}
        </div>
        {% assign count = count | plus: 1 %}
      {% endfor %}
  </div>
</div>
{% schema %}
  {
    "name": "Video Slider",
    "tag": "section",
    "class": "video-slider",
    "settings": [
      {
        "type": "richtext",
        "id": "head",
        "label": "Main Heading"
      },
      {
        "type": "textarea",
        "id": "description",
        "label": "description"
      }
    ],
    "blocks": [
      {
        "type": "video",
        "name": "video",
        "settings": [
          {
            "type": "text",
            "id": "video_url",
            "label": "Video url"
          },
          {
            "type": "image_picker",
            "id": "poster_img",
            "label": "Poster Image"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Video Slider"
      }
    ]
  }
{% endschema %}